services:
  serpbear:
    image: towfiqi/serpbear:latest
    container_name: serpbear
    restart: unless-stopped
    ports:
      - "${SERPBEAR_PORT:-3000}:3000"
    environment:
      USER: ${SERPBEAR_USER:-admin}
      PASSWORD: ${SERPBEAR_PASSWORD:-password}
      SECRET: ${SERPBEAR_SECRET:-changeme}
      APIKEY: ${SERPBEAR_APIKEY:-changeme}
      NEXT_PUBLIC_APP_URL: ${NEXT_PUBLIC_APP_URL:-http://localhost:3000}
    volumes:
      - ./data:/app/data
    networks:
      - homelab
    deploy:
      resources:
        limits:
          cpus: "${SERPBEAR_CPU_LIMIT:-0.5}"
          memory: ${SERPBEAR_MEMORY_LIMIT:-512M}

networks:
  homelab:
    external: true
